#!/usr/bin/env node
import { spawn } from 'node:child_process';
import path from 'path';
const cmd = process.argv[2];

if (cmd === 'serve') {
  console.log('ðŸš€ Starting Aureon fullstack (FE + BE)');
  // Start backend
  const be = spawn('npm', ['run', 'dev'], { cwd: path.join(process.cwd(), 'app-server'), shell: true, stdio: 'inherit' });
  // Start frontend
  const fe = spawn('npm', ['run', 'dev'], { cwd: path.join(process.cwd(), 'app-client'), shell: true, stdio: 'inherit' });
  // forward signals
  const exitAll = () => { be.kill(); fe.kill(); process.exit(); };
  process.on('SIGINT', exitAll);
  process.on('SIGTERM', exitAll);
} else {
  console.log('Aureon CLI â€” commands:');
  console.log('  serve   Start backend + frontend (dev)');
}
